#75
# tasks.py
# CrewAI 태스크 정의 (기획 → 집필 → 편집 → 번역)

from crewai import Task
from agents import planner, writer, editor, translator

plan = Task(
    description=(
        "1. {topic}에 대한 최신 동향, 주요 인물, 주목할 만한 뉴스를 우선순위에 둡니다.\n"
        "2. 대상 청중을 식별하고 그들의 관심사와 어려움을 고려합니다.\n"
        "3. 소개, 주요 포인트, 행동 촉구를 포함한 자세한 콘텐츠 개요를 개발합니다.\n"
        "4. SEO 키워드와 관련 데이터 또는 소스를 포함합니다."
    ),
    expected_output="개요, 청중 분석, SEO 키워드, 리소스를 포함한 포괄적인 콘텐츠 계획 문서.",
    agent=planner,
)

write = Task(
    description=(
        "1. 콘텐츠 계획을 사용하여 {topic}에 대한 매력적인 블로그 게시물을 작성합니다.\n"
        "2. SEO 키워드를 자연스럽게 통합합니다.\n"
        "3. 섹션/부제목은 매력적인 방식으로 적절하게 명명됩니다.\n"
        "4. 매력적인 소개, 통찰력 있는 본문, 요약 결론으로 구조화되었는지 확인합니다.\n"
        "5. 문법 오류와 브랜드의 음성에 맞게 교정합니다.\n"
    ),
    expected_output="마크다운 형식의 잘 작성된 블로그 게시물(각 섹션 2~3단락, 출판 준비 완료).",
    agent=writer,
)

edit = Task(
    description="주어진 블로그 게시물을 문법 오류와 브랜드의 음성에 맞게 교정합니다.",
    expected_output="마크다운 형식의 잘 작성된 블로그 게시물(각 섹션 2~3단락, 출판 준비 완료).",
    agent=editor,
)

translate_task = Task(
    description=(
        "완성된 블로그 게시물을 2단락, 총 5,000자 내외의 자연스러운 한국어로 변환합니다. "
        "가능하면 용어 통일과 문장 다듬기를 수행하세요."
    ),
    expected_output="한국어로 완성된 블로그 게시물(자연스러운 문체, 용어 통일).",
    agent=translator,
    async_execution=False,
    output_file="translated-blog.md",
)
