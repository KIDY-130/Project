#74
"""
[OpenCode 변환본]
- OpenAI 대신 로컬 Ollama(DeepSeek-R1) 기반 에이전트 사용
- Crew는 순차 프로세스로 기획 → 작성 → 편집 → 번역 실행
"""

from crewai import Crew, Process

# 오픈소스 LLM 에이전트와 태스크 가져오기
# (이 부분은 agents.py, tasks.py에서 ChatOllama 기반으로 정의되어 있어야 함)
from agents import planner, writer, editor, translator
from tasks import plan, write, edit, translate_task


def create_crew() -> Crew:
    """
    CrewAI 워크플로우 생성 함수
    - 에이전트: 기획자, 작가, 편집자, 번역가
    - 태스크: 계획 → 집필 → 편집 → 번역
    - 프로세스: 순차 실행
    """
    crew = Crew(
        agents=[planner, writer, editor, translator],
        tasks=[plan, write, edit, translate_task],
        process=Process.sequential,
        verbose=True
    )
    return crew

